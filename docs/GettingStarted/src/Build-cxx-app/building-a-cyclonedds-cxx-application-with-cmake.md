## Building a CycloneDDS-CXX application with CMake

The CMake build file for the _DDS-CXX Hello World_ example is located under the `helloworld` directory (`CMakeLists.txt`).

The content of the `CMakeLists.txt` is as follows:

```
project(helloworld LANGUAGES C CXX)
cmake_minimum_required(VERSION 3.5)

find_package(Idlpp-cxx REQUIRED)
if (NOT TARGET CycloneDDS-CXX::ddscxx)
  find_package(CycloneDDS-CXX REQUIRED)
endif()

# Convenience function, provided by the Idlpp-cxx that generates a CMake
# target for the given IDL file. The function calls Idlcpp-cxx to generate
# source files and compiles them into a library.
idl_ddscxx_generate(ddscxxHelloWorldData_lib "HelloWorldData.idl")

add_executable(ddscxxHelloworldPublisher publisher.cpp)
add_executable(ddscxxHelloworldSubscriber subscriber.cpp)

# Link both executables to idl data type library and ddscxx.
target_link_libraries(ddscxxHelloworldPublisher ddscxxHelloWorldData_lib CycloneDDS-CXX::ddscxx)
target_link_libraries(ddscxxHelloworldSubscriber ddscxxHelloWorldData_lib CycloneDDS-CXX::ddscxx)

set_property(TARGET ddscxxHelloworldPublisher PROPERTY CXX_STANDARD 11)
set_property(TARGET ddscxxHelloworldSubscriber PROPERTY CXX_STANDARD 11)
```



To build a Cyclone DDS CXX based application with CMake, you must link your application business code with:

- `CycloneDDS-CXX` libraries that contain the DDS-CXX API your application needs.

- The wrapper classes and structures that represent your datatypes and the customized-data writers and readers that can handle these data types. These classes are generated by the CMake statement `idl_ddscxx_generate()` that incepts the IDL file, invokes the CXX- IDL compiler and packages the datatype wrapper classes in a library (e.g. `ddscxxHelloWorldData_lib`).

This process is depicted as follows:

<div align=center> <img src="figs/6.1.1-1.png"></div>

Setting the property for the applications in the CMake `set_property()` statement, compiles the application against the `C++ 11` standard.

The application executable (`ddscxxHellowordPublihser`) is built with the CMake `target_link_libraries()` statement which links the  ddscxx lib, the datatype wrapper classes lib (e.g `ddscxxHelloWorldData_lib`) and the application code lib.

The CMake tries to find the `Idlpp-cxx` and the `CycloneDDS-CXX` CMake package, the details regarding how to locate those packages are described in the next section. When the packages are found, every path and dependencies are automatically set.